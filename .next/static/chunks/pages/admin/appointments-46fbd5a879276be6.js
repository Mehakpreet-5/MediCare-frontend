(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{4367:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/appointments",function(){return t(3632)}])},3632:function(e,n,t){"use strict";t.r(n);var o=t(5893),s=t(7294),r=t(1960),a=t(1163);n.default=function(){let e=(0,a.useRouter)(),[n,t]=(0,s.useState)(!1),[l,i]=(0,s.useState)([]),[c,d]=(0,s.useState)({name:"",phoneNumber:"",date:"",time:"",message:"",doctor:{name:"Dr. John Doe",specialization:"General Medicine",experience:10,availability:"Mon-Fri"}});(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("http://localhost:5000/api/bookings"),n=await e.json();i(n)}catch(e){console.error("Error fetching bookings:",e)}},u=e=>{let{name:n,value:t}=e.target;d({...c,[n]:t})},h=async e=>{e.preventDefault();try{let e=await fetch("http://localhost:5000/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),n=await e.json();console.log(n),e.ok?m():console.error("Failed to create booking:",n.message)}catch(e){console.error("Error submitting form:",e)}},p=async e=>{try{await fetch("http://localhost:5000/api/bookings/".concat(e),{method:"DELETE"}),m()}catch(e){console.error("Error cancelling booking:",e)}},x=n=>{e.push("/meet/".concat(n)),console.log("Navigating to meeting with ID: ".concat(n))};return(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row bg-orange-100 bg-opacity-70",children:[(0,o.jsx)("div",{className:"fixed lg:sticky top-0 h-screen w-64 z-10 ".concat(n?"block":"hidden"," lg:block"),children:(0,o.jsx)(r.default,{})}),(0,o.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-20",children:(0,o.jsx)("button",{onClick:()=>{t(!n)},className:"px-4 py-2 bg-gray-700 text-white rounded focus:outline-none",children:n?"Close Sidebar":"Open Sidebar"})}),(0,o.jsxs)("div",{className:"flex-grow p-4 ml-20 ",children:[(0,o.jsx)("h1",{className:"text-6xl mr-20 text-orange-400 font-serif mt-6 mb-10 text-center",children:"Appointments"}),(0,o.jsxs)("form",{onSubmit:h,className:"grid grid-cols-1 sm:grid-cols-3 pt-7 gap-4 w-full max-w-lg",children:[(0,o.jsx)("input",{type:"text",name:"name",onChange:u,placeholder:"Name",required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500 w-full"}),(0,o.jsx)("input",{type:"text",name:"phoneNumber",onChange:u,placeholder:"Phone Number",required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500 w-full"}),(0,o.jsx)("input",{type:"date",name:"date",onChange:u,required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500 w-full"}),(0,o.jsx)("input",{type:"time",name:"time",onChange:u,required:!0,className:"p-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500 w-full"}),(0,o.jsxs)("div",{className:"col-span-1 sm:col-span-2 flex flex-col sm:flex-row sm:items-start",children:[(0,o.jsx)("textarea",{name:"message",onChange:u,placeholder:"Message",className:"p-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500 w-full sm:flex-1"}),(0,o.jsx)("button",{type:"submit",className:"md:mt-6 sm:mt-0 sm:ml-4 px-4 py-2 bg-orange-300 text-gray-700 rounded hover:bg-orange-400 focus:outline-none",children:"Book"})]})]}),(0,o.jsx)("h2",{className:"text-3xl font-serif text-orange-400 mt-16",children:"Existing Appointments"}),(0,o.jsx)("ul",{className:"mt-4 space-y-4 w-96",children:l.map(e=>(0,o.jsxs)("li",{className:"p-4 textg border bg-white bg-opacity-20 rounded shadow-md",children:[(0,o.jsxs)("p",{children:["Name: ",e.name]}),(0,o.jsxs)("p",{children:["Phone: ",e.phoneNumber]}),(0,o.jsxs)("p",{children:["Date: ",new Date(e.date).toLocaleDateString()]}),(0,o.jsxs)("p",{children:["Time: ",e.time]}),(0,o.jsxs)("p",{children:["Message: ",e.message]}),(0,o.jsxs)("p",{children:["Meeting ID: ",e.meetingID]}),(0,o.jsxs)("p",{children:["Doctor: ",e.doctor.name," (",e.doctor.specialization,")"]}),(0,o.jsxs)("div",{className:"mt-3 ml-3 space-x-24",children:[(0,o.jsx)("button",{onClick:()=>x(e.meetingID),className:"bg-cyan-600 text-white p-1 px-3 rounded hover:underline",children:"Join"}),(0,o.jsx)("button",{onClick:()=>p(e._id),className:" px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none",children:"Cancel Appointment"})]})]},e._id))})]})]})}},1960:function(e,n,t){"use strict";t.r(n);var o=t(5893);t(6501);var s=t(1664),r=t.n(s),a=t(9603),l=t(9417),i=t(3024),c=t(1163);n.default=function(){let e=(0,c.useRouter)(),n=[{href:"/admin/users",label:"Users",icon:l.ILF},{href:"/admin/doctors",label:"Doctors",icon:l.x3j},{href:"/admin/appointments",label:"Appointments",icon:l.Ry6},{href:"/admin/chat",label:"Chat",icon:i.muJ}];return(0,o.jsxs)("div",{className:"h-screen w-60 greenn shadow-lg",children:[(0,o.jsxs)("h1",{className:"text-3xl text-orange-300 font-bold pt-10 text-center font-serif",children:["Admin ",(0,o.jsx)("br",{})," Dashboard"]}),(0,o.jsx)("div",{className:"space-y-4 ml-4 pt-12",children:n.map(n=>{let{href:t,label:s,icon:l}=n;return(0,o.jsx)("div",{className:"flex items-center h-16 w-48 rounded-lg transition-all duration-300 \n                        ".concat(e.pathname===t?"bg-white bg-opacity-45":"bg-white bg-opacity-20 hover:bg-white hover:bg-opacity-40 ","\n                        cursor-pointer"),children:(0,o.jsxs)(r(),{href:t,"aria-label":s,className:"flex  items-center w-full px-4",children:[(0,o.jsx)(a.G,{icon:l,className:"h-10 w-10 mr-3 text-orange-300 "}),(0,o.jsx)("h1",{className:"text-lg text-gray-200 ",children:s})]})},t)})})]})}},6501:function(){},1163:function(e,n,t){e.exports=t(6036)}},function(e){e.O(0,[976,948,664,603,709,888,774,179],function(){return e(e.s=4367)}),_N_E=e.O()}]);