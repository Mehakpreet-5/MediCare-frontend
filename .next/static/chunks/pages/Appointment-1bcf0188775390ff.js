(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{9967:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Appointment",function(){return l(1091)}])},1091:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return h}});var a=l(5893);l(6501);var s=l(7294),n=l(9455),r=l(1163),i=l(5675),o=l.n(i),d={src:"/_next/static/media/ssss.8b715ff2.png",height:114,width:277,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAYElEQVR4nGN8NylThImRUYbx31/O/79/cPxnZGBgZGRmYGRm/fCLlesB4+uZpZ6sX15vYP77i+0/AxJgZGT4w8E/lZHh/3/G95PSnZl+fVcACv4BGsAAVPgPRP1l5zkLAHdVIJtufdzqAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3},m={src:"/_next/static/media/766.8dd21477.png",height:471,width:519,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAIAAAC6O5sJAAAAuklEQVR42gGvAFD/AJi2vYurtlF9joGdrZilsZiEeX2JmERdcgB/pqxTd4Bac4Kbv9Ggw9KOobByjqRObYUAcZifU36OfK2/sL7MrKu4j73RdJmvVGd+AHWZpFJ9joS1yKqyvMCxupHC12aKpUxddgCkw81/oKuRp7lidoJ5lJ18lKZlhqZMZIAAWY+fkKm109zkjoaIVERLTEVQV2yETmV9ABxqhHCEj9Hc44SUq3mLonuOqGZ7lVZne6y/XYkraOh0AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7},c={src:"/_next/static/media/5.83785ecf.png",height:130,width:161,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAdklEQVR42mNABufWTGNmwAVOLelmAdEXN80TOb92ehuK5PXdq5jBkhvmGAAlC8+unHwBxD84MZ8JrOD8upme51ZPXXp+7YxCoILTFzbM9oRayQJWcHP/evazqyYvBypYeGXbYpf///8zgiWgxsI5lzbPF0d3GwB/GDT0VDm85AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6},g=l(8242),h=()=>{let e=(0,r.useRouter)(),[t,l]=(0,s.useState)([]),[i,h]=(0,s.useState)(""),[x,u]=(0,s.useState)([]),[A,p]=(0,s.useState)(!1),[b,f]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("https://medicare-backend-ve06.onrender.com/api/bookings"),t=await e.json();if(e.ok){let e=t.map(e=>({...e,meetingId:e.meetingID}));l(e)}else console.error("Failed to fetch appointments:",t.message)}catch(e){console.error("Error fetching appointments:",e)}})()},[]);let w=t=>{e.push("/meet/".concat(t)),console.log("Navigating to meeting with ID: ".concat(t))},N=async e=>{try{await fetch("https://medicare-backend-ve06.onrender.com/api/bookings?id=".concat(e),{method:"DELETE"}),u(x.filter(t=>t._id!==e)),f("Appointment has been canceled successfully."),1===x.length&&p(!1)}catch(e){console.error("Error cancelling booking:",e),f("Error cancelling the appointment.")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"greenn min-h-screen relative",children:[(0,a.jsx)(n.Z,{className:"fixed top-0 w-full bg-white shadow-md"}),(0,a.jsxs)("div",{className:"pt-0  mr-28  ",children:[(0,a.jsxs)("div",{className:"relative pb-44 mr-24 lg:mr-80 mt-6  w-full h-screen flex justify-end items-center","data-aos":"zoom-in","data-aos-delay":"200","data-aos-easing":"ease-in-out","data-aos-duration":"1100",children:[(0,a.jsx)("div",{className:" hidden sm:block md:block absolute  h-[28rem] w-[28rem] lg:h-[34.2rem] lg:w-[34.3rem] orangg rounded-full z-0 right-0"}),(0,a.jsx)("div",{className:" hidden sm:block md:block absolute h-[27rem] w-[27rem] lg:h-[33rem] lg:w-[33rem] mr-2 rounded-full overflow-hidden shadow-lg ",children:(0,a.jsx)(o(),{src:m,alt:"Description of the image",className:"h-full w-full object-cover"})}),(0,a.jsx)("div",{className:" hidden sm:block md:block absolute mt-72 mr-72 lg:mr-80 lg:mt-80 h-[14.5rem] w-[14.5rem] lg:h-[18rem] lg:w-[18rem]  orangg rounded-full clip-half z-0 right-0"}),(0,a.jsx)("div",{className:" hidden sm:block md:block absolute mt-72 lg:mt-80 mb-2 ml-5 mr-72 lg:mr-80 h-[14rem] w-[14rem]  lg:h-[17.6rem] lg:w-[17.2rem] rounded-full overflow-hidden shadow-lg ",children:(0,a.jsx)(o(),{src:m,alt:"Doctor",className:"h-full w-full object-cover"})})]}),(0,a.jsx)(o(),{src:c,alt:"Description of the image",className:"absolute inset-0 w-28 lg:w-52 lg:h-52 opacity-50 md:ml-24 mt-20 lg:mt-28","data-aos":"zoom-in","data-aos-delay":"200","data-aos-easing":"ease-in-out","data-aos-duration":"2000"}),(0,a.jsxs)("div",{className:"mt-20 lg:ml-20 ml-5 md:ml-52 py-10 absolute inset-0","data-aos":"fade-down","data-aos-delay":"200","data-aos-easing":"ease-in-out","data-aos-duration":"1100",children:[A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"md:text-7xl lg:ml-48 lg:mt-10 text-4xl font-serif orangg-text mb-8",children:"Your Appointments"}),x.length>0?(0,a.jsx)("div",{className:"overflow-x-auto mr-10 md:mr-0 md:pr-4 lg:ml-48",children:(0,a.jsxs)("table",{className:"md:w-96 bg-white bg-opacity-70 rounded-lg shadow-sm shadow-gray-400","data-aos":"fade-up","data-aos-delay":"200","data-aos-easing":"ease-in-out","data-aos-duration":"700",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:" bg-orange-500 lg:text-2xl bg-opacity-60  text-gray-800",children:[(0,a.jsx)("th",{className:"py-2 px-7 ml-4 ",children:"Doctor Name"}),(0,a.jsx)("th",{className:"py-2 px-4 lg:mt-4 hidden sm:block",children:"Specialization"}),(0,a.jsx)("th",{className:"py-2 px-4 ",children:"Date"}),(0,a.jsx)("th",{className:"py-2 px-4 ",children:"Time"}),(0,a.jsx)("th",{className:"py-2 px-4 ",children:"Meet"}),(0,a.jsx)("th",{className:"py-2 px-4 ",children:"Action"}),"                      "]})}),(0,a.jsx)("tbody",{children:x.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-100 hover:bg-op lg:text-xl ",children:[(0,a.jsx)("td",{className:"py-2 px-4 mr-10 ml-5 ",children:e.doctor.name}),(0,a.jsx)("td",{className:"py-2 px-4 lg:mt-3 hidden sm:block",children:e.doctor.specialization}),(0,a.jsx)("td",{className:"py-2 px-4 ",children:new Date(e.date).toLocaleDateString()}),(0,a.jsx)("td",{className:"py-2 px-4 ",children:e.time}),(0,a.jsx)("td",{className:"py-2 px-4 ",children:(0,a.jsx)("button",{onClick:()=>w(e.meetingId),className:"text-blue-500 hover:underline",children:"Join"})}),(0,a.jsx)("td",{children:(0,a.jsx)("button",{onClick:()=>N(e._id),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none",children:"Cancel"})})]},e._id))})]})}):(0,a.jsx)("p",{className:"text-lg lg:ml-48 lg:text-2xl text-gray-200",children:"No appointments found for this mobile number."})]}):(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(t.filter(e=>e.phoneNumber===i)),p(!0)},className:"mb-8 lg:ml-48 mt-12 lg:w-3/4",children:[(0,a.jsx)("h1",{className:"mb-5 fontt text-4xl sm:text-3xl md:text-5xl lg:text-7xl font-serif orangg-text",children:"Check Appointment"}),(0,a.jsx)("h1",{className:"mb-8 fontt text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-serif text-gray-300",children:"Enter Your Number"}),(0,a.jsx)("div",{className:"bg-white bg-opacity-20 p-3 lg:ml-2 rounded-lg shadow-lg flex space-x-3 w-80 lg:w-96",children:(0,a.jsx)("input",{type:"tel",value:i,onChange:e=>h(e.target.value),placeholder:"Mobile Number",className:"border border-gray-300 rounded-l-lg p-3 w-72 md:w-96  focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),(0,a.jsxs)("div",{className:"relative mt-7 ",children:[(0,a.jsx)(o(),{src:d,alt:"Submit",className:"h-11 lg:w-52 md:h-11 w-48  ml-16 lg:ml-20 object-cover"}),(0,a.jsx)("button",{className:"absolute inset-0 mr-5 md:mr-96 md:pr-0 text-center  lg:w-80 ml-1 md:ml-6 text-white font-bold text-lg md:text-xl lg:text-2xl",type:"submit",children:"Submit"})]})]}),b&&(0,a.jsx)("p",{className:"mt-4 text-lg text-red-500",children:b})]})]})]}),(0,a.jsx)(g.Z,{})]})}},1163:function(e,t,l){e.exports=l(6036)}},function(e){e.O(0,[976,948,664,603,675,709,554,888,774,179],function(){return e(e.s=9967)}),_N_E=e.O()}]);